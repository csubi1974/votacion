    // Use provided password or generate temporary password  
    const tempPassword = req.body.password || Math.random().toString(36).slice(-8);
    const bcrypt = await import('bcryptjs');
    const hashedPassword = await bcrypt.default.hash(tempPassword, 10);
